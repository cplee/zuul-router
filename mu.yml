environments:
- name: acceptance
  cluster:
    keyName: mu-key
    instanceType: m4.large
    maxSize: 5
  discovery:
    provider: consul
  loadbalancer:
    hostedzone: mu.elasticoperations.com
- name: production
  cluster:
    keyName: mu-key
    instanceType: m4.large
    maxSize: 5
  discovery:
    provider: consul
  loadbalancer:
    hostedzone: mu.elasticoperations.com

service:
  name: zuul-router
  port: 8080
  pathPatterns:
  - /*
  environment:
    SPRING_CLOUD_CONSUL_HOST: 172.17.0.1
    SPRING_CLOUD_CONSUL_DISCOVERY_REGISTER: 'false'
  pipeline:
    source:
      provider: CodeCommit
      repo: zuul-router
    build:
      image: aws/codebuild/java:openjdk-8
